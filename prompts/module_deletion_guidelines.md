# AiPHP 模块删除规范提示词

## 概述

本文档定义了在 AiPHP 框架中删除模块的标准流程、要求和规范，确保模块删除操作的一致性和完整性。

## 适用场景

- 删除不再需要的功能模块
- 清理测试模块
- 重构项目结构时的模块移除
- 移除过时或废弃的功能模块

## 删除模块标准流程

### 1. 准备阶段
1. 确认要删除的模块名称和路径
2. 备份重要数据（如需要）
3. 确认模块没有被其他功能依赖

### 2. 路由配置清理
1. 打开 `config/routes.php` 文件
2. 删除与模块相关的所有路由配置，包括：
   - GET 请求路由
   - POST 请求路由
   - PUT 请求路由
   - DELETE 请求路由
3. 保存并验证路由配置文件语法正确

### 3. 页面文件删除
1. 删除模块目录下的所有页面文件：
   - 列表页面（如 index.php）
   - 详情页面（如 detail.php）
   - 表单页面（如 form.php）
   - 删除处理页面（如 delete.php）
   - 状态更新页面（如 update_status.php）
   - 其他相关页面文件
2. 确保所有页面文件都被删除

### 4. 静态资源清理
1. 删除模块对应的 CSS 文件：
   - 删除 `public/static/own/css/[模块名]/` 目录下的所有文件
2. 删除模块对应的 JavaScript 文件：
   - 删除 `public/static/own/js/[模块名]/` 目录下的所有文件
3. 确保所有静态资源文件都被删除

### 5. 目录结构清理
1. 删除模块的页面目录：
   - 删除 `handler/pages/[模块名]/` 目录
2. 删除模块的 CSS 目录：
   - 删除 `public/static/own/css/[模块名]/` 目录
3. 删除模块的 JavaScript 目录：
   - 删除 `public/static/own/js/[模块名]/` 目录
4. 检查并删除所有残留的空白文件夹

### 6. 导航和引用清理
1. 检查布局文件中的导航链接：
   - 打开 `handler/layouts/` 目录下的布局文件
   - 删除与模块相关的导航链接
2. 检查其他文件中的模块引用：
   - 搜索整个项目中对模块的引用
   - 删除所有相关的引用代码

### 7. 验证和确认
1. 验证路由配置：
   - 确保路由配置文件中不再包含模块相关路由
2. 验证文件删除：
   - 确认模块相关文件和目录已完全删除
3. 验证引用清理：
   - 确认项目中不再有任何对模块的引用
4. 测试应用功能：
   - 确保删除模块后应用其他功能正常运行

## 删除要求

### 安全要求
1. 在删除前确认模块没有被其他功能依赖
2. 备份重要数据（如需要）
3. 确保删除操作不会影响其他模块的正常运行

### 完整性要求
1. 必须删除模块的所有相关文件和目录
2. 必须清理所有相关的路由配置
3. 必须删除所有相关的静态资源文件
4. 必须清理所有相关的导航链接和引用

### 一致性要求
1. 遵循标准的删除流程
2. 保持项目目录结构的整洁
3. 确保删除操作后项目代码的一致性

## 规范要求

### 文件命名规范
1. 模块目录名应使用小驼峰命名法 (camelCase)
2. 页面文件名应使用下划线命名法 (snake_case)
3. 静态资源文件名应与对应的页面文件名保持一致

### 代码规范
1. 删除文件时应使用安全的删除命令
2. 修改配置文件时应确保语法正确
3. 清理引用时应确保不影响其他功能

### 目录结构规范
1. 保持 `handler/pages/` 目录结构的整洁
2. 保持 `public/static/own/` 目录结构的整洁
3. 删除模块后不应留下空的目录

## 注意事项

1. 在删除模块前，应确保已备份重要数据
2. 删除操作应逐步进行，每步完成后进行验证
3. 删除完成后应进行全面测试，确保不影响其他功能
4. 如果模块被其他功能依赖，应先解除依赖关系再删除
5. 删除操作应谨慎进行，避免误删重要文件

## 常见问题处理

### 1. 删除后页面报错
- 检查是否还有未清理的路由配置
- 检查是否还有未清理的文件引用
- 检查是否还有未清理的导航链接

### 2. 目录无法删除
- 检查目录是否为空
- 检查是否有文件被其他进程占用
- 使用适当的命令强制删除

### 3. 静态资源仍然加载
- 清除浏览器缓存
- 检查是否有未清理的引用
- 检查是否有其他模块引用了相同的静态资源

## 附录

### 相关文件
- `config/routes.php` - 路由配置文件
- `handler/pages/[模块名]/` - 模块页面文件目录
- `public/static/own/css/[模块名]/` - 模块CSS文件目录
- `public/static/own/js/[模块名]/` - 模块JavaScript文件目录
- `handler/layouts/` - 布局文件目录

### 相关命令
```bash
# 删除目录（Windows）
rmdir /s directory_name

# 删除目录（PowerShell）
Remove-Item -Recurse -Force directory_name

# 删除文件
del file_name
```